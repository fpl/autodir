<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Autodir HOWTO</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><meta name="description" content="This HOWTO is about the Autodir installation, configuration and other issues related to Autodir. The Autodir system is often applied for making home directories available in an easy way."></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article"><div class="titlepage"><div><div><h2 class="title"><a name="Autodir-HOWTO"></a>Autodir HOWTO</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Francesco Paolo</span> <span class="surname">Lovergine</span></h3><div class="affiliation"><span class="orgname">Debian Project<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:frankie%20&lt;&gt;%20debian%20dot%20org">frankie &lt;&gt; debian dot org</a>&gt;</code></p></div></div></div><div class="author"><h3 class="author"><span class="firstname">Venkata Ramana</span> <span class="surname">Enaganti</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:ramana%20&lt;&gt;%20intraperson%20dot%20com">ramana &lt;&gt; intraperson dot com</a>&gt;</code></p></div></div></div></div></div><div><p class="pubdate">2023-12-24</p></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 1.06</td><td align="left">2023-12-24</td><td align="left">FPL</td></tr><tr><td align="left" colspan="3">Minor changes for typos, form and other updates</td></tr><tr><td align="left">Revision 1.05</td><td align="left">2023-12-23</td><td align="left">FPL</td></tr><tr><td align="left" colspan="3">Review requested by current maintainer</td></tr><tr><td align="left">Revision 1.04</td><td align="left">2007-5-25</td><td align="left">VRE</td></tr><tr><td align="left" colspan="3">Minor updates</td></tr><tr><td align="left">Revision 1.03</td><td align="left">2006-09-15</td><td align="left">GaMA</td></tr><tr><td align="left" colspan="3">Review requested by author.</td></tr><tr><td align="left">Revision 1.02</td><td align="left">2004-12-25</td><td align="left">VRE</td></tr><tr><td align="left" colspan="3">Minor updates</td></tr><tr><td align="left">Revision 1.00</td><td align="left">2004-09-23</td><td align="left">VRE</td></tr><tr><td align="left" colspan="3">Initial release, reviewed by Rahul Sundaram at TLDP</td></tr><tr><td align="left">Revision 0.32</td><td align="left">2004-09-13</td><td align="left">VRE</td></tr><tr><td align="left" colspan="3">New sections like requirements and others.</td></tr><tr><td align="left">Revision 0.10</td><td align="left">2004-06-24</td><td align="left">VRE</td></tr><tr><td align="left" colspan="3">second draft</td></tr><tr><td align="left">Revision 0.9</td><td align="left">2004-06-11</td><td align="left">VRE</td></tr><tr><td align="left" colspan="3">first draft</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p>
		This HOWTO is about the <span class="bold"><strong>Autodir</strong></span> installation, configuration and other issues related to <span class="bold"><strong>Autodir</strong></span>.  The <span class="bold"><strong>Autodir</strong></span> system is often applied for making home directories available in an easy way.
        </p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="#intro">1. Introduction</a></span></dt><dd><dl><dt><span class="sect2"><a href="#copyright">1.1. Copyright and License</a></span></dt><dt><span class="sect2"><a href="#disclaimer">1.2. Disclaimer</a></span></dt><dt><span class="sect2"><a href="#feedback">1.3. Feedback</a></span></dt><dt><span class="sect2"><a href="#idm101">1.4. New Versions of this Document</a></span></dt><dt><span class="sect2"><a href="#credits">1.5. Credits / Contributors</a></span></dt></dl></dd><dt><span class="sect1"><a href="#idm114">2. Before going into the details...</a></span></dt><dt><span class="sect1"><a href="#idm123">3. Why not pam_mkhomedir?</a></span></dt><dt><span class="sect1"><a href="#idm140">4. Where can Autodir be used?</a></span></dt><dt><span class="sect1"><a href="#idm150">5. What Autodir is not</a></span></dt><dt><span class="sect1"><a href="#idm154">6. Differences between Autodir and Autofs</a></span></dt><dt><span class="sect1"><a href="#idm194">7. How it works</a></span></dt><dt><span class="sect1"><a href="#idm259">8. Some definitions</a></span></dt><dt><span class="sect1"><a href="#dirorg">9. Directory organization in the real base directory</a></span></dt><dt><span class="sect1"><a href="#vdexp">10. Virtual directory expiration</a></span></dt><dt><span class="sect1"><a href="#backup">11. Backup support</a></span></dt><dt><span class="sect1"><a href="#backupreq">12. Backup program requirements</a></span></dt><dt><span class="sect1"><a href="#idm409">13. Module options</a></span></dt><dt><span class="sect1"><a href="#idm425">14. Autodir requirements</a></span></dt><dt><span class="sect1"><a href="#autofs_kmod">15. Autofs kernel module</a></span></dt><dt><span class="sect1"><a href="#idm443">16. Importing user and group accounts</a></span></dt><dt><span class="sect1"><a href="#idm447">17. Getting Autodir</a></span></dt><dt><span class="sect1"><a href="#homedir">18. Managing home directories</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idm502">18.1. Base directories for autohome</a></span></dt><dt><span class="sect2"><a href="#idm539">18.2. Directory organization</a></span></dt><dt><span class="sect2"><a href="#idm547">18.3. Misc suboptions for autohome</a></span></dt><dt><span class="sect2"><a href="#idm556">18.4. Example</a></span></dt></dl></dd><dt><span class="sect1"><a href="#idm584">19. Managing group directories</a></span></dt><dt><span class="sect1"><a href="#aoptions">20. Autodir options</a></span></dt><dt><span class="sect1"><a href="#backupopts">21. Backup options</a></span></dt><dt><span class="sect1"><a href="#idm739">22. Examples</a></span></dt><dt><span class="sect1"><a href="#idm744">23. RPM specific</a></span></dt><dt><span class="sect1"><a href="#moreinfo">24. Further Information</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="intro"></a>1. Introduction</h2></div></div></div><p><span class="bold"><strong>Autodir</strong></span> offers a simple and effective means to create directories like home directories in a transparent manner. It relies on the <a class="ulink" href="htp://www.autofs.org" target="_top">autofs</a> protocol for its operation.</p><p>This document explains how to create directories on demand using <span class="bold"><strong>Autodir</strong></span> in a transparent way to the applications. This document also explains using the transparent backup feature that is possible with <span class="bold"><strong>Autodir</strong></span>, without system downtime for backup purpose; this applies for all directories managed by <span class="bold"><strong>Autodir</strong></span>.</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="copyright"></a>1.1. Copyright and License</h3></div></div></div><p>
     This document, <span class="emphasis"><em>Autodir HOWTO</em></span>,
     is originally copyrighted (c) 2004-2007 by <span class="emphasis"><em>Venkata Ramana Enaganti</em></span>. All successive changes are copyright (c) 2023 by 
     <span class="emphasis"><em>Francesco Paolo Lovergine</em></span>

This work is licensed under the Creative Commons Attribution License. To view a copy of this license, visit <a class="ulink" href="http://creativecommons.org/licenses/by/2.0" target="_top">http://creativecommons.org/licenses/by/2.0/</a> or send a letter to Creative Commons, 559 Nathan Abbott Way, Stanford, California 94305, USA.

    </p><p>
     Linux is a registered trademark of Linus Torvalds.
    </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="disclaimer"></a>1.2. Disclaimer</h3></div></div></div><p>
     No liability for the contents of this document can be accepted.
     Use the concepts, examples and information at your own risk.
     There may be errors and inaccuracies, that could be damaging to
     your system.  Proceed with caution, and although this is highly
     unlikely, the author(s) do not take any responsibility.
    </p><p>
     All copyrights are held by their by their respective owners,
     unless specifically noted otherwise.  Use of a term in this
     document should not be regarded as affecting the validity of any
     trademark or service mark.  Naming of particular products or
     brands should not be seen as endorsements.
    </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="feedback"></a>1.3. Feedback</h3></div></div></div><p>
     Feedback is most certainly welcome for this document. Send
     your additions, comments and criticisms to the following
     email address : <code class="email">&lt;<a class="email" href="mailto:frankie%20&lt;&gt;%20debian%20dot%20org">frankie &lt;&gt; debian dot org</a>&gt;</code>.
    </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm101"></a>1.4. New Versions of this Document</h3></div></div></div><p>The latest version of this HOWTO will be made available from <a class="ulink" href="https://github.com/fpl/autodir/" target="_top">https://github.com/fpl/autodir/</a>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="credits"></a>1.5. Credits / Contributors</h3></div></div></div><p>
     In this document, I have the pleasure of acknowledging for language and technical review work:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Rahul Sundaram<code class="email">&lt;<a class="email" href="mailto:rahulsundaram@yahoo.co.in">rahulsundaram@yahoo.co.in</a>&gt;</code></p></li><li class="listitem"><p>Machtelt Garrels</p></li></ul></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm114"></a>2. Before going into the details...</h2></div></div></div><p>After releasing his software <a class="ulink" href="https://sourceforge.net/projects/intraperson/" target="_top">intraPerson</a> beta, Ramana started working on a administration guide that deals with the administration aspects of <span class="bold"><strong>intraPerson</strong></span>. But he was stuck with one simple thing. It was easy to create users in LDAP - at least he thought so - but how to create home directories for those users in LDAP wherever those LDAP accounts were imported?</p><p>Ramana found some solutions, but he was not satisfied as every solution has serious drawbacks.  After leafing through the Autofs documents and hacking a bit, he came to the conclusion that the Autofs protocol might offer a much better solution to this challenge.</p><p>The result is <span class="bold"><strong>Autodir</strong></span>, based on the Autofs protocol.</p><p>
     Ramana developed the program in the next three years and it became stable enough to be included in Debian GNU/Linux 4.0 (codename Etch) and all later
     releases. In 2007, Ramana stepped down as developer for Autodir, and all successive support and fixes have been authored by Francesco, who actively used it
     in a production environment since then. A long time later, he finally adopted the whole project, including this how-to.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm123"></a>3. Why not pam_mkhomedir?</h2></div></div></div><p>The PAM module <code class="literal">pam_mkhomedir</code> uses Pluggable Authentication Module architecture for its operation. As such, there are some limitations associated with it. For instance:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Some servers may not authenticate users but they may expect user directories to exist. This means they do not use PAM, and in turn, <code class="literal">pam_mkhomedir</code> does not get a chance to create home directories. The notorious example is on email servers.</p></li><li class="listitem"><p>PAM is always an optional component for authentication. Some services may not use PAM at all and use a different method to authenticate users. In this case <code class="literal">pam_mkhomedir</code> is never going to be used.</p></li><li class="listitem"><p>Generally <code class="filename">/home</code> is owned by root and only root users can create home directories in it. Therefore the service that wishes to create home directories through PAM must be run as root, or else the home directory must have the same permissions as, for instance, <code class="filename">/tmp</code>.</p></li></ul></div><p>Finally, <span class="bold"><strong>Autodir</strong></span> is much wider in scope and supports many more interesting features.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm140"></a>4. Where can Autodir be used?</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Where user accounts reside in centralized database like LDAP, SQL, NIS, or other databases, from which user and groups are imported to other systems. To create, for example home, group directories in those systems which import these accounts from centralized database, on demand.</p></li><li class="listitem"><p>To exploit its transparent backup feature for 24*7 online systems.</p></li><li class="listitem"><p>It can even be used when accounts are in a local system, to some extent hiding what accounts exist in the <code class="filename">/home</code> directory, for example.</p></li></ul></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm150"></a>5. What Autodir is not</h2></div></div></div><p><span class="bold"><strong>Autodir</strong></span> can create directories, but it does not remove them once user and/or group entries are removed from the system accounts database. Use custom made scripts from cron for this.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm154"></a>6. Differences between Autodir and Autofs</h2></div></div></div><p>Issue arises when you are already using the <span class="application">Autofs</span> package, handling the mounts of (home) directories.  Let's look at the differences between the two packages:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The main purpose of autofs is to deal with network mounts on demand instead of mounting all at the same time, which results in preserving system resources. Though there is some support in the autofs package to mount home directories on demand, the requirement is that <span class="emphasis"><em>these home directories must exist already</em></span>.</p><p>On the other hand, <span class="bold"><strong>Autodir</strong></span> specializes <span class="emphasis"><em>only</em></span> in local directory creation and mounting them on demand.</p><p><span class="bold"><strong>Autodir</strong></span> can also create real directories in disk file systems, which do not reside in one single flat base directory. This is how utilities like <span class="command"><strong>useradd</strong></span> create by default. In a standard file system setup, all home directories reside in the base <code class="filename">/home</code> directory. For file systems like ext2 and ext3 performance will degrade if a large number of home directories exist in one single base directory.</p><p> For applications accessing these directories, <span class="bold"><strong>Autodir</strong></span> presents all directories for them in a <span class="emphasis"><em>single</em></span> autofs mounted virtual base directory <span class="emphasis"><em>on demand</em></span>; actual directories are created in subdirectories of some other directory in hierarchical style.</p><p> For example, the real home for a user with username <code class="literal">user1</code> will be created as <code class="filename">/autohome/u/us/user1</code> if configured that way, but mounted in <code class="filename">/home</code> on demand for applications accessing the home directory in <code class="filename">/home/user1</code>.</p><p>Permissions for the real base directory, where the actual home directories are kept (<code class="filename">/autohome</code> in the above example), are kept in such a way that <code class="filename">/autohome</code> can not be accessed by anyone except by root.</p><p>This mounting of directories on demand and unmounting when not in use presents an interesting opportunity: the ability to tell whether a directory is in use or not.  If a directory is not in use, a program like a backup application can be safely started when a directory is unmounted.</p><p><span class="bold"><strong>Autodir</strong></span> exploits this capability by starting the command-line mentioned backup whenever a directory becomes unused.</p></li><li class="listitem"><p>There is one more important issue to be presented if you are an administrator reading this document. <span class="bold"><strong>Autodir</strong></span> does not call the external programs <span class="command"><strong>mount</strong></span> and <span class="command"><strong>umount</strong></span>, as is the case with the autofs package; rather, it uses system calls directly. As a side effect, it is faster and more reliable, but the <code class="filename">mtab</code> file is not updated. I felt this was not necessary as all mounts and unmounts are local directories.</p></li><li class="listitem"><p>Another minor difference is that <span class="bold"><strong>Autodir</strong></span> is completely <span class="emphasis"><em>multi-threaded</em></span>. Autofs is also expected to be multi-threaded in future versions.</p></li></ul></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm194"></a>7. How it works</h2></div></div></div><p><span class="bold"><strong>Autodir</strong></span> uses modules to get specific functionality. The core <span class="bold"><strong>Autodir</strong></span> implements generic functionality that modules can exploit and add specific functionality to.</p><p>At any moment only one module can be added to <span class="bold"><strong>Autodir</strong></span>. If there are two modules, for example <code class="literal">autohome</code> and <code class="literal">autogroup</code>, then two processes of <span class="bold"><strong>Autodir</strong></span> should be created so that each process can have one of the required modules attached to it.</p><p>For further explanation I chose the <code class="literal">autohome</code> module which handles transparent home directory creation.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Assumptions</h3><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The <code class="literal">autohome</code> module creates user home directories on demand if these do not exist already.</p></li><li class="listitem"><p>It is assumed that user accounts exists, but the accompanying home directories do not - either because these accounts were created with the <code class="literal">-M</code> option with <span class="command"><strong>useradd</strong></span> or because these accounts were imported from LDAP, NIS or some other external database for which home directories are yet to be created.</p></li><li class="listitem"><p>It also assumed <span class="emphasis"><em>for this explanation only</em></span> that all user home directories are expected to be in the <code class="filename">/home</code> directory.</p></li></ul></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">KISS</h3><p>Keep it Simple: Some fine details are intentionally kept aside to make the explanation easy to understand.</p></div><p>First the autofs file system is mounted on the <code class="filename">/home</code> directory by <span class="bold"><strong>Autodir</strong></span>. The Linux kernel is informed that <code class="filename">/home</code> is managed by a user space application, <span class="bold"><strong>Autodir</strong></span>, from now on.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Autofs?</h3><p>Do not bother too much about the autofs file system if you do not understand about it. Just think of it as a special kind of file system, similar to memory based file systems but with some additional special properties.</p></div><pre class="screen">

                                +----------------+
                                |  Linux Kernel  |
                                +----------------+
                                  /        \
                                 /          \
                                /            \
                               /              \
   +-------------+       +--------+       +------------+        +-----------------+
   | Application |------&gt;| /home  |&lt;-----&gt;|  Autodir   |&lt;------&gt;| autohome module |
   +-------------+       +--------+       +------------+        +-----------------+
                              \                                          /
                               \  +----------------+                    /
                                +-|   /autohome    |&lt;------------------+
                                  +----------------+
</pre><p>Whenever an application or daemon needs access to a user's home directory, for example <code class="filename">/home/userhome1</code>, they directly enter into <code class="filename">/home/userhome1</code> to access it. The kernel, which notices this, informs <span class="bold"><strong>Autodir</strong></span> if the <code class="filename">userhome1</code> directory does not yet exist already in <code class="filename">/home</code>.</p><p><span class="bold"><strong>Autodir</strong></span>, in turn, passes this request to the <code class="literal">autohome</code> module.  The <code class="literal">autohome</code> module does not touch the <code class="filename">/home</code> directory. Instead it manages <span class="emphasis"><em>real home directories</em></span> somewhere else, for example in <code class="filename">/autohome</code> as shown in the above figure.</p><p>The <code class="literal">autohome</code> module creates a real home directory if it does not exist in the <code class="filename">/autohome</code> directory. After it is successfully created or failed to be created, whatever the outcome, <code class="literal">autohome</code> reports back to <span class="bold"><strong>Autodir</strong></span>.  When the directory creation task has completed successfully, the path to real home directory is provided to <span class="bold"><strong>Autodir</strong></span>.</p><p>If the <code class="literal">autohome</code> module reports success, <span class="bold"><strong>Autodir</strong></span> creates <code class="filename">userhome1</code> directory under <code class="filename">/home</code> and mounts the <span class="emphasis"><em>real home directory</em></span> from <code class="filename">/autohome</code> on it. At the end of the process, <span class="bold"><strong>Autodir</strong></span> informs the kernel whether the whole operation was successful or not. Accordingly, the kernel allows applications to enter the directory, or, in case of failure, it reports that no such directory exists.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm259"></a>8. Some definitions</h2></div></div></div><p>Before going further it is better to understand the following terms to simplify explanation.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="bold"><strong>Virtual directories</strong></span></span></dt><dd><p> These directories do not exist on disk.  Instead these are created and deleted on demand in memory. If the system reboots all these directories vanish. In the previous figure, all directories under <code class="filename">/home</code> are <span class="emphasis"><em>virtual directories</em></span>.</p></dd><dt><span class="term"><span class="bold"><strong>Virtual base directory</strong></span></span></dt><dd><p> This is the directory that holds all <span class="emphasis"><em>Virtual directories</em></span>. This directory <span class="emphasis"><em>does</em></span> exist on disk and therefore it remains even after reboot. In the previous figure <code class="filename">/home</code> is <span class="emphasis"><em>virtual base directory</em></span>.</p></dd><dt><span class="term"><span class="bold"><strong>Real directories</strong></span></span></dt><dd><p> These are the directories that actually reside on the disk. Even after reboot, these remain intact. In the previous figure all directories created under <code class="filename">/autohome</code> are <span class="emphasis"><em>real directories</em></span>.</p></dd><dt><span class="term"><span class="bold"><strong>Real base directory</strong></span></span></dt><dd><p> This is the directory that holds all real directories. In the above figure <code class="filename">/autohome</code> is <span class="emphasis"><em>real base directory</em></span>.</p></dd></dl></div><p>Each <span class="emphasis"><em>virtual directory</em></span> is mapped to a <span class="emphasis"><em>real directory</em></span>.  This means that whatever is written to or modified in the <span class="emphasis"><em>virtual directory</em></span> is actually sent to the <span class="emphasis"><em>real directory</em></span>.</p><p>On reboot of the system <span class="emphasis"><em>real directories</em></span> and their content remain intact. But <span class="emphasis"><em>virtual directories</em></span> are again created on demand, exactly as they were before.</p><p><span class="emphasis"><em>Virtual directories</em></span> are removed if these are not used for a specified period of time, and created again if necessary. When a <span class="emphasis"><em>Virtual directory</em></span> is removed, the backup program is started on the corresponding <span class="emphasis"><em>real directory</em></span> - if backup is configured.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Applications should access only <span class="emphasis"><em>virtual directories</em></span>. <span class="emphasis"><em>Real directories</em></span> are hidden from applications.  Only the root user can see them.  There is one exception: backup programs always access the <span class="emphasis"><em>real directories</em></span> only.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dirorg"></a>9. Directory organization in the real base directory</h2></div></div></div><p>Why should there be any special organization in the <span class="emphasis"><em>real base directory</em></span>? If we just create all <span class="emphasis"><em>real directories</em></span> in one <span class="emphasis"><em>real base directory</em></span> there could be a performance penalty when there are a large number of <span class="emphasis"><em>real directories</em></span> to be created. File systems like ext2/ext3 are not optimized for this kind of flat directory structure.</p><p>It would be much better if the <span class="emphasis"><em>real base directory</em></span> is divided into more subdirectories, or even to divide these subdirectories again into more subdirectories. And in the final subdirectories actual home directories are kept.</p><p>There are three types of directory organization:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="bold"><strong>level 0</strong></span></span></dt><dd><p>Actually no organization. All home directories are created directly under <span class="emphasis"><em>real base directory</em></span>.</p></dd><dt><span class="term"><span class="bold"><strong>level 1</strong></span></span></dt><dd><p>The <span class="emphasis"><em>Real base directory</em></span> is divided into more subdirectories. The subdirectory names are derived from the first character of the final directory to be created. For example, if the <code class="filename">user1</code> directory is to be created, first a directory named 'u' is created under <span class="emphasis"><em>real base directory</em></span>. Then in that subdirectory the actual directory <code class="filename">user1</code> is created as <code class="filename">/&lt;real_base_directory&gt;/u/user1</code>.</p></dd><dt><span class="term"><span class="bold"><strong>level 2</strong></span></span></dt><dd><p>Same as level 1 organization but after the first level of subdirectories, a second level of subdirectories is created. The names here are the first two characters of the final directory to be created. For example, for user <code class="literal">user1</code>, as in the above example, the <code class="filename">/&lt;real_base_directory&gt;/u/us/user1</code> directory is created.</p></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vdexp"></a>10. Virtual directory expiration</h2></div></div></div><p>When an application tries to access a <span class="emphasis"><em>virtual directory</em></span> in a <span class="emphasis"><em>virtual base directory</em></span>, <span class="bold"><strong>Autodir</strong></span> creates the <span class="emphasis"><em>virtual directory</em></span> in it if it does not exist already and mounts the <span class="emphasis"><em>real directory</em></span> on it from the <span class="emphasis"><em>real base directory</em></span>. Once this is done, a timer is started.  If the <span class="emphasis"><em>virtual directory</em></span> is not accessed from the <span class="emphasis"><em>virtual base directory</em></span> by any application for the specified period of time, this directory is removed and the corresponding <span class="emphasis"><em>real directory</em></span> in the <span class="emphasis"><em>real base directory</em></span> is marked for backup.</p><p>The time period to wait for expiration can be given through a <a class="link" href="#autodir_t_opt">command line option</a> to <span class="bold"><strong>Autodir</strong></span>.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="backup"></a>11. Backup support</h2></div></div></div><p> <span class="bold"><strong>Autodir</strong></span> supports backup program launching when a <span class="emphasis"><em>virtual directory</em></span>  is removed after a period of inactivity. Removal of the <span class="emphasis"><em>virtual directory</em></span> is itself an assurance that no other application can access the content and modify it.</p><p>Just like there is wait time for expiring a <span class="emphasis"><em>virtual directory</em></span>, for backup <span class="bold"><strong>Autodir</strong></span> also waits during some time after the expiry of the <span class="emphasis"><em>virtual directory</em></span>, prior to starting the backup. This time period can be configured through a <a class="link" href="#autodir_w_opt">command line option</a> to <span class="bold"><strong>Autodir</strong></span>.</p><p>By design, backup programs are expected to operate on <span class="emphasis"><em>real directories</em></span> but not on <span class="emphasis"><em>virtual directory</em></span>. If the backup program try to access a <span class="emphasis"><em>virtual directory</em></span>, then <span class="bold"><strong>Autodir</strong></span> assumes some regular application is in need of that directory and the backup program is killed, even if the <span class="emphasis"><em>virtual directory</em></span> accessing process is the backup program itself.</p><p>A separate backup process for each <span class="emphasis"><em>real directory</em></span> is used. The backup program can be given <a class="link" href="#back_esc_str">arguments</a> of <span class="emphasis"><em>real directories</em></span> on which to operate.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Backup support is independent of any particular module being used. It is applicable to all modules with <span class="bold"><strong>Autodir</strong></span>.</p></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Backup = real!</h3><p>Backup programs should never access <span class="emphasis"><em>virtual directory</em></span> or <span class="emphasis"><em>virtual base directory</em></span>.</p></div><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Time off</h3><p>The backup feature is not much use if the <span class="emphasis"><em>virtual directories</em></span> are being accessed by applications all the time.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="backupreq"></a>12. Backup program requirements</h2></div></div></div><p><span class="bold"><strong>Autodir</strong></span> demands some extra requirements from the backup program being used: when the backup is working on the <span class="emphasis"><em>real directory</em></span>, with corresponding expired <span class="emphasis"><em>virtual directory</em></span>, and that <span class="emphasis"><em>virtual directory</em></span> is requested again by an application while the backup is running, the backup process is killed. First a <code class="literal">SIGTERM</code> is sent to gracefully stop it. But if it does not shut down in time - and it has one second to do this - a <code class="literal">SIGKILL</code> will be sent, which is guaranteed to stop the backup.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Only when the backup has stopped the application is given access to the requested <span class="emphasis"><em>virtual directory</em></span>.</p></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Whatever backup is used, it should be able to recover from this signal gracefully, not causing unrecoverable side effects.</p></div><p>One more important issue is the environment in which the backup runs. All backup programs run as root. But at the same time all unnecessary root privileges are taken away using POSIX capabilities. In other words these backup programs can read any file or directory that belongs to any user on the system and nothing more than that. Other than that, the backup process behaves like an ordinary user level process.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm409"></a>13. Module options</h2></div></div></div><p>There are two kinds of options that can be passed to <span class="bold"><strong>Autodir</strong></span>. In the first type, <a class="link" href="#aoptions" title="20. Autodir options">options</a> are for <span class="command"><strong>autodir</strong></span> itself and are common irrespective of which module is used. The other type of options are specific to the module being used. These options are called suboptions and are passed to the module being used; they are different from the main <code class="literal">-o</code> option. This is similar to the suboptions used with the <span class="command"><strong>mount</strong></span> command.</p><p>For example, suboptions to the example module <code class="literal">autohome</code> can be passed as follows:</p><pre class="screen">
-o 'realpath=/tmp/autohome,level=2,noskel'
</pre><p>Here <code class="literal">realpath</code>, <code class="literal">level</code> and <code class="literal">noskel</code> are suboptions for <code class="literal">autohome</code> module.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm425"></a>14. Autodir requirements</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You will need a Linux kernel equal to or later than version 2.4. These kernel versions support mounting one directory on another directory. At this moment <span class="bold"><strong>Autodir</strong></span> is not ported to other Unices but this may change in the future.</p></li><li class="listitem"><p><span class="bold"><strong>Autodir</strong></span> requires the autofs kernel module based on protocol version 4. But it does not require the autofs user level package. The autofs kernel module is pretty standard and almost all distributions include it.</p></li></ul></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="autofs_kmod"></a>15. Autofs kernel module</h2></div></div></div><p><span class="bold"><strong>Autodir</strong></span> uses the autofs kernel module for its operation. The kernel module <code class="literal">autofs</code> must be loaded before starting <span class="command"><strong>autodir</strong></span>.</p><p>This can be done as the root user, using the <span class="command"><strong>modprobe</strong></span> command as follows:</p><pre class="screen">
# modprobe autofs
</pre></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm443"></a>16. Importing user and group accounts</h2></div></div></div><p>If user and group accounts reside in a centralized database these must be imported before starting <span class="bold"><strong>Autodir</strong></span>. How to do this is out of the scope of this HOWTO. There are a number of documents which explain in a clear way how to do this.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm447"></a>17. Getting Autodir</h2></div></div></div><p>At this moment <span class="bold"><strong>Autodir</strong></span> is available in the main archive of Debian GNU/Linux and all its derivative distributions, including Ubuntu. The source repository is hosted on Github at <a class="ulink" href="https://github.com/fpl/autodir/" target="_top">https://github.com/fpl/autodir/</a>.</p><p>After downloading the source, follow these simple steps to install :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Unpack the source.</p><p><code class="literal">$ tar zxvf &lt;tar file name&gt;</code></p></li><li class="listitem"><p>Move to the expanded directory and execute the following commands:</p><p><code class="literal">$ ./configure</code></p><p><code class="literal">$ make</code></p><p><code class="literal"># make install</code></p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">No go?</h3><p>The <code class="literal">configure</code> script checks for the required libraries. If these are not present it will stop.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="homedir"></a>18. Managing home directories</h2></div></div></div><p>This section will explain how to configure <span class="bold"><strong>Autodir</strong></span> so that user home directories are created on demand. For this purpose the <code class="literal">autohome</code> module, which deals with specifics of home directory creation, is used.</p><p>To load the <code class="literal">autohome</code> module with <span class="bold"><strong>Autodir</strong></span>, use the <code class="literal">-m</code> option. For example, <code class="literal">-m /usr/lib/autodir/autohome.so</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">User/home matching</h3><p>When an application tries to access a home directory, that home directory is used to check if there is any user with the same user name as the directory name being accessed. If a user name exists, then the home directory is created. Otherwise the message <span class="quote">&#8220;<span class="quote">no such file or directory</span>&#8221;</span> is reported back to the application.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">User accounts</h3><p><code class="literal">Autohome</code> does not deal with the creation of user accounts on local systems, in LDAP or in any other database. It only deals with creating home directories once these accounts exist and are imported to the local system from databases like LDAP and NIS.</p></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Limitations</h3><p>It is worth mentioning one limitation of the <code class="literal">autohome</code> module. It expects that user name and home directory are related to each other. For example, for user <code class="literal">user1</code> the home directory should be <code class="filename">/home/user1</code> or <code class="filename">/some/directory/name/user1</code> but not <code class="filename">/some/directory/name/userhome1</code>. This can be supported but it will be a burden on system resources as each password entry has to be examined from first to last.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Knowing when not to use autohome</h3><p>If the existing user password database is such that user home directories are distributed under different base directories, for example <code class="filename">/home/class1/user1</code>, <code class="filename">/home/class2/user2332</code>, then <code class="literal">autohome</code> configuration becomes complicated and is not recommended.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm502"></a>18.1. Base directories for autohome</h3></div></div></div><p>The next step in the setup procedure is to decide where the <span class="emphasis"><em>virtual base directory</em></span> and <span class="emphasis"><em>real base directory</em></span> for home directory creation will be located.</p><p>What are the <span class="emphasis"><em>virtual base directory</em></span> and the <span class="emphasis"><em>real base directory</em></span> in the context of the <code class="literal">autohome</code> module?</p><p>This all depends on how user accounts are created. If a user account created for user name user1 with home directory <code class="filename">/home/user1</code> then <code class="filename">/home</code> <span class="emphasis"><em>will become the virtual base directory</em></span>.</p><p>Then what is the <span class="emphasis"><em>real base directory</em></span>?  This can be any directory. The only thing that you need to keep in mind is that there should be enough space, as all actual files are stored here instead of in the <span class="emphasis"><em>virtual base directory</em></span>.</p><p>In most server configurations <code class="filename">/home</code> is a separate partition. But if <code class="filename">/home</code> is the <span class="emphasis"><em>virtual base directory</em></span>, then files are not stored in that directory! The solution is not to mount a partition on <code class="filename">/home</code> but instead mount it somewhere else and make it the <span class="emphasis"><em>real base directory</em></span>.</p><p>The <span class="bold"><strong>Autodir</strong></span> option <code class="literal">-d</code> is used to specify the <span class="emphasis"><em>virtual base directory</em></span>. For example: <code class="literal">autodir -d /home</code> assumes that <code class="filename">/home</code> is the <span class="emphasis"><em>virtual base directory</em></span>.</p><p>It is somewhat tricky to specify the <span class="emphasis"><em>real base directory</em></span>.  The <span class="emphasis"><em>real base directory</em></span> is managed by the <code class="literal">autohome</code> module so this option must be passed to the module through module suboptions. If the <span class="emphasis"><em>real base directory</em></span> is <code class="filename">/var/autohome</code> then it is specified with the option <code class="literal">-o</code> as <code class="literal">-o realpath=/var/autohome</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm539"></a>18.2. Directory organization</h3></div></div></div><p>Refer to <a class="link" href="#dirorg" title="9. Directory organization in the real base directory">directory organization under the real base directory</a> for a detailed explanation of this topic.</p><p><code class="literal">autohome</code> does support this kind of organization. The suboption used to specify the desired directory organization the <code class="literal">level</code> suboption, for instance: <code class="literal">-o level=2</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm547"></a>18.3. Misc suboptions for autohome</h3></div></div></div><p>The suboption <code class="literal">skel</code> can be used if the skeleton path is not the default value <code class="filename">/etc/skel</code>: <code class="literal"> -o skel=/some/other/dir</code>.</p><p>The suboption <code class="literal">noskel</code> can be used with <code class="literal">-o</code> to indicate not to copy any skeleton files to the home directories when these are created.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm556"></a>18.4. Example</h3></div></div></div><p>First, import your user accounts from a centralized database, for instance from LDAP.</p><p>Next, the <code class="literal">autofs</code> kernel module must be loaded into the Linux kernel. This can be done as described in <a class="link" href="#autofs_kmod" title="15. Autofs kernel module">autofs kernel module section</a>.</p><p>If <code class="filename">/home</code> is to be used for home directories then <code class="filename">/home</code> will become the <span class="emphasis"><em>virtual directory</em></span>; this is specified to <span class="command"><strong>autodir</strong></span> with the <code class="literal">-d /home</code> option.</p><p>Assuming that the <code class="literal">autohome</code> module is located in <code class="filename">/usr/lib/autodir/autohome.so</code>, this module can be loaded with <span class="command"><strong>autodir</strong></span> as <code class="literal">-m /usr/lib/autodir/autohome.so</code>. Note that the full path for the module is given.</p><p>The actual location of the real home directories is given with the <code class="literal">realpath</code> suboption. If it is <code class="filename">/autohome</code>, the location can be specified as <code class="literal">realpath=/autohome</code>.</p><p>With all these options <span class="command"><strong>autodir</strong></span> can be started as:</p><pre class="screen">
# autodir -d /home 						\
		-m /usr/lib/autodir/autohome.so 		\
		-o 'realpath=/autohome'			 	\
</pre><p>Once <span class="bold"><strong>Autodir</strong></span> is started, initially the <code class="filename">/home</code> directory will be empty. Whether <span class="bold"><strong>Autodir</strong></span> is working properly can be tested by changing directories to one of the home directories, as the root user or as the owner of the home directory.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm584"></a>19. Managing group directories</h2></div></div></div><p>The <code class="literal">autogroup</code> module is used for creating group directories on demand for common group access. It can be used with Samba, for example, to dynamically create shared directories for a group of people.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Check</h3><p>The <code class="literal">autogroup</code> module checks for the requested directory in valid groups from the system group database.</p></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Using autogroup for the creation of home directories</h3><p>The <code class="literal">autogroup</code> module can be used to create home directories as well, provided that user private groups exist for each user. This way all group and home directories can be created in one place with one module. However, no skeleton files will be copied and the <code class="literal">autogroup</code> suboption <code class="literal">nopriv</code> should not be used.</p></div><p>The <code class="literal">autogroup</code> configuration is the same as the <code class="literal">autohome</code> module, but unlike <code class="literal">autohome</code>, the <span class="emphasis"><em>virtual base directory</em></span> can be placed anywhere and any name can be given to it. It is not dictated by system accounts.</p><p>The module <code class="literal">autogroup</code> can be used with <span class="bold"><strong>Autodir</strong></span> using the <code class="literal">-m</code> option. For example, <code class="literal">-m /usr/lib/autodir/autogroup.so</code>.</p><p>All suboptions explained in <a class="link" href="#homedir" title="18. Managing home directories">managing home directories</a> are the same for <code class="literal">autogroup</code>, except <code class="literal">skel</code> and <code class="literal">noskel</code>, as these are meaningless for the <code class="literal">autogroup</code> module. Additionally, there are other suboptions specific to <code class="literal">autogroup</code>. These are given below.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">nopriv</code></span></dt><dd><p>Some Linux installations use user private groups. If directories for these groups are not to be created, then use this suboption.</p></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="aoptions"></a>20. Autodir options</h2></div></div></div><p>In this section some of the options to <span class="bold"><strong>Autodir</strong></span> are explained. Backup options are explained in the <a class="link" href="#backupopts" title="21. Backup options">backup section</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">-d</code></span></dt><dd><p>Specifies the <span class="emphasis"><em>virtual base directory</em></span>. If this path does not exist, it will be created. An absolute path is expected for this option.</p></dd><dt><span class="term"><a name="autodir_t_opt"></a><code class="literal">-t</code></span></dt><dd><p>Expiration timeout for <span class="emphasis"><em>virtual directories</em></span>. For more details refer to <a class="link" href="#vdexp" title="10. Virtual directory expiration">virtual directory expiration</a>.</p></dd><dt><span class="term"><code class="literal">-m</code></span></dt><dd><p>Module to be used with <span class="bold"><strong>Autodir</strong></span>. Currently <code class="literal">autohome</code> and <code class="literal">autogroup</code> are available. The full path to the module is expected.</p></dd><dt><span class="term"><code class="literal">-o</code></span></dt><dd><p>All suboptions that are to be passed to module are given here. This option passing syntax is similar to that of the <span class="command"><strong>mount</strong></span> command with its <code class="literal">-o</code> option. See specific module sections for more info.</p></dd><dt><span class="term"><code class="literal">-f</code></span></dt><dd><p>Run in the foreground and log all messages to the console. For debugging purpose and to see how <span class="bold"><strong>Autodir</strong></span> works.</p></dd><dt><span class="term"><code class="literal">-l</code></span></dt><dd><p>This option expects a path name to a file in which <span class="bold"><strong>Autodir</strong></span> will write its process id.</p></dd><dt><span class="term"><code class="literal">-h</code></span></dt><dd><p>Help about all options supported by <span class="bold"><strong>Autodir</strong></span>.</p></dd><dt><span class="term"><code class="literal">-v</code></span></dt><dd><p>Version information about <span class="bold"><strong>Autodir</strong></span>.</p></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="backupopts"></a>21. Backup options</h2></div></div></div><p>These options are passed to <span class="bold"><strong>Autodir</strong></span> to request backup support.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">-b</code></span></dt><dd><p>This is the main option to specify the backup program path and arguments to it. The path given should be an absolute path, otherwise <span class="bold"><strong>Autodir</strong></span> does not accept it.</p></dd><dt><span class="term"><a name="autodir_w_opt"></a><code class="literal">-w</code></span></dt><dd><p>Whenever a <span class="emphasis"><em>virtual directory</em></span> is not used for a period of time, it is assumed inactive and it is unmounted.  After unmounting the directory, whether to launch the backup immediately or to wait some more time is decided with this option. It takes arguments in seconds. It is the <span class="emphasis"><em>minimum</em></span> time to wait before starting backup after <span class="emphasis"><em>virtual directory</em></span> expiration. It should not exceed one day.</p></dd><dt><span class="term"><code class="literal">-p</code></span></dt><dd><p>This is the priority to be given to the backup process. <span class="emphasis"><em>This is in the range of 1 to 40 inclusive</em></span>. Lower value means higher priority and vice versa. The default value is 30.</p></dd><dt><span class="term"><code class="literal">-c</code></span></dt><dd><p>This restricts the maximum number of backup processes at any given time. The default is 150.</p></dd></dl></div><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Using quotes</h3><p>The argument for the <code class="literal">-b</code> option is includes the absolute backup program path as well as its own arguments. Therefore it is recommended to use single quotes around this argument.</p></div><p>The <code class="literal">-b</code> option takes a path to executable file as well as arguments to it. However, the arguments are interpreted for a sequence of %x characters and replaced with predefined strings as follows:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">%N</code></span></dt><dd><p>Replaced with the <span class="emphasis"><em>virtual directory</em></span> name.</p></dd><dt><a name="back_esc_str"></a><span class="term"><code class="literal">%L</code></span></dt><dd><p>Replaced with an absolute path to the <span class="emphasis"><em>real directory</em></span>.</p></dd><dt><span class="term"><code class="literal">%K</code></span></dt><dd><p>Replaced with host name.</p></dd><dt><span class="term">Others</span></dt><dd><p>Others are fed to <code class="literal">strftime</code>. See the man page for <code class="literal">strftime</code> for more information.</p></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm739"></a>22. Examples</h2></div></div></div><pre class="screen">
# autodir -d /home 						\
		-m /usr/lib/autodir/autohome.so 		\
		-t 1000						\
		-f 						\
		-o 'realpath=/autohome,level=1,skel=/etc/skel' 	\
		-l /var/run/autodir.pid
</pre><pre class="screen">
# autodir -d /home						\
		-m /usr/lib/autodir/autohome.so			\
		-t 300						\
		-b '/bin/tar cf /tmp/%N%F.tar %L'		\
		-w 600						\
		-o 'realpath=/tmp/autohome,level=2,noskel'	\
		-l /var/run/autodir.pid
</pre><pre class="screen">
# autodir -d /var/abase/ 					\
		-m /usr/lib/autodir/autogroup.so		\
		-t 300						\
		-b '/bin/tar cf /tmp/%N%F.tar %L'		\
		-w 86400					\
		-o 'nopriv,nosetgid,realpath=/var/realbase,level=0' 
</pre></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm744"></a>23. RPM specific</h2></div></div></div><p><span class="bold"><strong>Autodir</strong></span> can be installed from rpms as follows:</p><pre class="screen">
# rpm -ivh autodir-0.28-4.i386.rpm
</pre><p>When installed from rpms, two startup scripts are provided: <code class="filename">/etc/rc.d/init.d/autohome</code> and <code class="filename">/etc/rc.d/init.d/autogroup</code>. The first one is for starting <span class="bold"><strong>Autodir</strong></span> with the <code class="literal">autohome</code> module, the second for starting with the <code class="literal">autogroup</code> module.</p><p>The script configuration files <code class="filename">/etc/sysconfig/autohome</code> and <code class="filename">/etc/sysconfig/autogroup</code> can be used to specify what options can be passed to <span class="bold"><strong>Autodir</strong></span>.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="moreinfo"></a>24. Further Information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Official website is at <a class="ulink" href="https://github.com/fpl/autodir/" target="_top">https://github.com/fpl/autodir/</a>.</p></li><li class="listitem"><p>Autofs mailing list <a class="ulink" href="http://linux.kernel.org/mailman/listinfo/autofs" target="_top">http://linux.kernel.org/mailman/listinfo/autofs</a>.</p></li><li class="listitem"><p>The Automount HOWTO can be found at <a class="ulink" href="http://www.tldp.org" target="_top">http://www.tldp.org</a></p></li><li class="listitem"><p>Autofs Hacking <a class="ulink" href="http://www.goop.org/~jeremy/autofs/" target="_top">http://www.goop.org/~jeremy/autofs</a>.</p></li></ul></div></div></div></body></html>
